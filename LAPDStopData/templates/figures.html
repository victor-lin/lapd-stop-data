{% extends "base.html" %}
{% block body %}
<h1>Figures</h1>
<div>
  <h2>Distribution of stops amongst divisions</h2>
  <canvas id="division-counts-chart" width="600" height="400"></canvas>
  <ul>
    {% for division in div_count_data %}
      <li>{{division}}</li>
    {% endfor %}
  </ul>
  <script>
    var div_count_slices = [
            {% for division, count in div_count_data.items() %}
                {
                    value: {{count}},
                    label: "{{division}}",
                    color : "black"
                },
            {% endfor %}
         ];
   var div_count_canvas = document.getElementById("division-counts-chart").getContext("2d");
   div_count_chart = new Chart(div_count_canvas).Pie(div_count_slices);
  </script>
</div>
{% endblock %}
